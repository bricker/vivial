query BillingPortalUrl {
  viewer {
    __typename
    ...on AuthenticatedViewerQueries {
      billingPortalUrl
    }

    ...on UnauthenticatedViewer {
      __typename
      authFailureReason
    }
  }
}