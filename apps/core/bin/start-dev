#!/usr/bin/env python

import uvicorn
import os
import sys

from eave.dev_tooling.dotenv_loader import load_standard_dotenv_files

sys.path.append('.')
EAVE_HOME = os.environ["EAVE_HOME"]

load_standard_dotenv_files()

os.environ["GAE_SERVICE"] = "www"

if __name__ == "__main__":
    uvicorn.run(
        app="eave.core.app:app",
        port=5100,
        reload=True,
        reload_dirs=[
            "eave",
            os.path.join(EAVE_HOME, "libs/eave-stdlib-py"),
        ],
        reload_excludes=[
            "**/build/",
            ".*",
        ]
    )
